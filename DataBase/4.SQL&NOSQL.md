# SQL & NO SQL
# SQL
![image](https://github.com/jiyeonnnny/Computer-Science/assets/139419091/5429d986-8cf2-424a-a999-e06e1b8ef554)
- SQL을 사용하면 RDBMS에서 데이터를 저장, 수정, 삭제, 검색할 수 있음
- 관계형 데이터베이스 특징
  - 데이터는 정해진 데이터 **스키마**에 따라 테이블에 저장됨
  - 데이터는 **관계**를 통해 여러 테이블에 분산됨
 
- 데이터는 테이블 레코드로 저장됨, 각 테이블마다 명확히 **정의된 구조**가 있음
- 해당 구조는 필드 이름과 데이터 유형을 정의함
- 따라서 스키마를 준수하지 않은 레코드는 테이블에 추가할 수 없음
- 스키마를 수정하지 않는 이상, 정해진 구조에 맞는 레코드만 추가 가능함
- 데이터 중복 피하기
  - 하나의 테이블에서 중복없이 하나의 데이터만 관리함
  - 그래서 다른 테이블에서 부정확한 데이터를 다룰 위험이 없음

<br>
<br>
<br>

# NO SQL
- 스키마도 없고 관계도 없음
- NOSQL에서 레코드를 문서(documents)라고 부름
- sql이랑 달리, NO SQL은 다른 구조의 데이터를 같은 컬렉션에 추가가능함
  - documents는 json과 유사함
  - 관계형 db처럼 여러테이블에 나눠 담지 않음
  - 관련 데이터를 동일한 **컬렉션**에 넣음
  - 따라서, 여러 테이블 조인할 필요없음
  - 모든 것을 갖춘 문서가 있으니
  - 그래서 조인이란 개념이 없음
  - 조인하고 싶을땐?
    - 컬렉션을 통해 데이터를 복제해서 각 컬렉션 일부분에 속하는 데이터를 정확하게 산출하도록 함
    - 근데 주의할 점이 있음. no sql은 중복된 데이터도 들어갈 수 있어서
    - 조인할때 중복된 값으로 하게 되면 잘못될 수 잇음
    - 원래 no sql은 조인잘안하고, 변경도 잘 안함. 그때 쓰면 효율적인게 no sql임

<br>
<br>
<br>

## 확장(scaling)
- 수직적 확장 : 단순히 db 서버의 성능을 향상시킴(ex CPU 업그레이드)
- 수평적 확장 : 더 많은 서버가 추가되고 db가 전체적으로 분산됨(하나의 db에서 작동하지만 여러 호스트에서 작동함)
- SQL(수직적 확장) / NoSQL(수평적 확장)

<br>
<br>
<br>

## SQL vs NO SQL
### SQL 장점
- 명확하게 정의된 스키마, 데이터 무결성 보장
- 관계는 각 데이터를 중복없이 한번만 저장
### SQL 단점
- 유연하지 못함. 데이터 스키마를 사전에 계획하고 알려야함(나중 수정 어렵)
- 관계를 맺고 있어서 조인문이 많은 복잡한 쿼리가 만들어짐
- 대체로 수직적 확장만 가능
### NO SQL 장점
- 스키마 없어서 유연함. 언제든지 저장된 데이터를 조정하고 새필드를 추가할 수 있음
- 데이터는 어플리케이션이 필요로 하는 형식으로 저장됨. 그래서 데이터 읽어오는 속도가 빠름
- 수직 수평 확장 가능. 어플리케이션이 발생시키는 읽기/쓰기 요청 처리 가능함
### NO SQL 단점
- 유연해서 데이터 구조 결정을 미루게 될 수 있음
- 데이터 중복을 계속 업데이트 해야함
- 데이터가 여러 컬렉션에 중복되어 있으면 수정 시 모든 컬렉션을 수정해야함(SQL에서 중복데이터가 없으므로 한번만 수행함)

<br>
<br>
<br>

### SQL DB 사용이 더 좋을때
- 관계를 맺고 있는 데이터가 자주 **변경**되는 어플리케이션의 경우
- NoSQL에서 여러 컬렉션을 모두 수정해야해서 비효율적임
- 변경될 여지가 없고, 명확한 스키마가 사용자와 데이터에게 중요한 경우

### NO SQL DB 사용이 더 좋을때
- 정확한 데이터 구조를 알 수 없거나 변경/확장 될 수 있을때
- 읽기를 자주하지만, 변경을 자주 하지 않을때
- 데이터 베이스를 수평으로 확장해야 하는 경우(막대한 양의 데이터를 다뤄야 하는 경우)
