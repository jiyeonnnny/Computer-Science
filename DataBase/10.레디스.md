# Redis
## 1. Redis 개념
- Remote Dictionary Server의 약자
- 키-값 구조의 비정형 데이터를 저장 및 관리하기 위한 오픈소스 기반의 비관계형 **데이터 베이스 관리 시스템**
- value 다양한 자료구조를 지원함. string, Bitmap, Hash, List, Set, Sorted Set, Geospatial Index, Hyperloglog, Stream
- 디스크가 아닌 메모리 기반(In-memory) 데이터 저장소임


<br>


## 2. redis - cache
- redis는 cache 영역에 존재하는 데이터 베이스임.
- 캐시니깐 키값에 해당하는 데이터를 바로 불러올 수 있어서 입출력 연산 속도가 빠름
- 근데 휘발성이라 껐다 키면 날아감. 영속성이 없음.
- 영속성(persistence)을 보장하기 위해 보관과 백업 기능이 있음
    - snapshot : 특정 지점을 설정하고 디스크에 백업함
    - AOF(append only file) : 명령 쿼리를 저장해서, 서버가 셧다운 되면 재실행해서 다시 만들어 놓는 것
- 근데 용속성을 보장되어야 하는 상황에서 redis를 사용하는 건 많은 연산이 필요로하기에, 비효율적이라 추천은 안함.

<br>

## 3. redis - 싱글스레드
- 메인 스레드는 싱글 스레드로 운용됨
  - 장점 : atomic(원자성) 보장, race condition(경쟁 상태) 회피
  - 단점 : 오래 걸리는 명령을 실행하면 다른 명령에 영향을 줌
    - O(N)명령어는 사용 자제 : KEYS, FLUSHALL, FLUSHDB, DEL 등

- 근데 버전 6.x부터는 멀티스레드가 도입되었데
  - 클라이언트에서 전송한 명령을 읽고 파싱하는 부분
  - 명령어 처리 결과를 클라이언트에세 전송하는 부분
- 근데, (주의) 명령어 실행 자체는 메인스레드에서 수행하므로, 여전히 **싱글스레드**로 보긴 해야한데

<br>

## 4. redis - Collection 타입
[참고]
```
https://sjh836.tistory.com/178
```

<br>

## 5. 면접 질문
```
$ Memcached와 Redis 차이점은 무엇인가?

$ Redis
- 정보를 캐시하지만 지속성, 복제 등 추가 기능 제공
- LRU(최근에 사용됨) 값 제거 기능을 지원하진 않음
- 메모리가 가득차면 모든 항목에 대해 시간 초과를 설정할 수 있음. 3개의 무작위 키를 살펴보고 만료에 가장 가까운 키부터 삭제함.
- CAS(Check and Set)를 지원하지 않음. 그래서 캐시 일관성을 유지하는데 유용함.
- 강력한 데이터 구조를 가지고 있음. 문자열, 바이너리 안전 문자열, 바이너리 안전 문자열 목록, 정렬된 목록 등을 처리할 수 있음
- 키 길이 최대 2GB
- 싱글스레드임

$ Memcached
- Memcached 전용 캐시 정보
- LRU(최근에 사용됨)값 제거 기능을 지원함
- 메모리 오버플로우되면, 최근에 사용하지 않은 것(LRU 최근에 가장 적게 사용된 것)이 삭제됨
- CAS(Check and Set)을 지원함
- 객체나 배열을 저장하기 위해, 직렬화 해야함. 다시 읽으려면 직렬화 취소해야함.
최대 250바이트
- 멀티 스레드임
```

<br>

[참고]    
https://velog.io/@hope1213/Redis%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C    
https://escapefromcoding.tistory.com/704    
https://gyoogle.dev/blog/computer-science/data-base/Redis.html     
